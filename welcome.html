<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Giới Thiệu Ẩm Thực Tỉnh Thành Việt Nam</title>

    <link rel="stylesheet" href="style.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script>
      // Function to check if the user is logged in
      function checkIfLoggedIn() {
        const loggedInUser = localStorage.getItem("loggedInUser");

        // If user is not logged in, redirect to login page
        if (!loggedInUser) {
          window.location.href = "login.html";
        }

        // If user is logged in, return the user object
        return JSON.parse(loggedInUser);
      }
    </script>
  </head>
  <body>
    <div id="app-container">
      <header>
        <button id="hamburger-btn" class="menu-icon" aria-label="Menu">
          <i class="fas fa-bars"></i>
        </button>

        <h1 class="logo">Ẩm Thực Đặc Sản Tỉnh Thành Việt Nam</h1>

        <a href="./login.html" class="sign-in-btn">Đăng Nhập</a>

        <!-- Menu dropdown -->
        <nav id="dropdown-menu" class="dropdown-menu">
          <a href="login.html">Đăng nhập</a>
          <a href="about.html" id="about.html">Về chúng tôi</a>
          <a href="index.html" id="home-link">Trang Chủ</a>
        </nav>
      </header>

      <div id="main-structure">
        <main id="main-content">
          <section id="detail-page" class="view active-view login-page">
            <div>
              <h1 id="welcomeMessage"></h1>
              <button onclick="logout()">Logout</button>
            </div>

            <script>
              // Function to display the username on the welcome page
              function displayUsername() {
                const user = checkIfLoggedIn();
                const welcomeMessage =
                  document.getElementById("welcomeMessage");

                if (user) {
                  welcomeMessage.innerText = "Welcome, " + user.username + "!";
                }
              }

              // Function to clear the session and redirect to the login page
              function logout() {
                localStorage.removeItem("loggedInUser");
                window.location.href = "login.html";
              }

              // Call the displayUsername function on page load
              displayUsername();
            </script>
          </section>
        </main>

        <aside id="right-sidebar">
          <h3>Ẩm thực theo các tỉnh thành</h3>
          <div class="search-box">
            <form autocomplete="off" id="search_form">
              <div class="autocomplete">
                <input
                  id="myInput"
                  type="text"
                  name="myCountry"
                  placeholder="Country"
                />
              </div>
              <input type="submit" />
              <span></span>
            </form>
          </div>

          <div class="social-links">
            <a
              href="https://zalo.me/0589368989"
              target="_blank"
              class="social-icon zalo-icon"
              ><i class="fas fa-comment-dots"></i> Zalo</a
            >
            <a
              href="https://www.facebook.com/Lmt8989?locale=vi_VN"
              target="_blank"
              class="social-icon facebook-icon"
              ><i class="fab fa-facebook-f"></i> Facebook</a
            >
          </div>
        </aside>
      </div>

      <footer>
        <p>&copy; Food VN. Món ăn đặc sản tỉnh thành</p>
      </footer>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="script.js"></script>
  </body>
</html>
